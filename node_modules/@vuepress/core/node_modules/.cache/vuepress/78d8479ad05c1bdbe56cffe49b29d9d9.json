{"remainingRequest":"/Users/fengyunan/Downloads/fengyunan/vuepress/node_modules/babel-loader/lib/index.js??ref--3-1!/Users/fengyunan/Downloads/fengyunan/vuepress/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/fengyunan/Downloads/fengyunan/vuepress/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fengyunan/Downloads/fengyunan/vuepress/node_modules/@vuepress/theme-blog/components/Sticker.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/fengyunan/Downloads/fengyunan/vuepress/node_modules/@vuepress/theme-blog/components/Sticker.vue","mtime":1645695103100},{"path":"/Users/fengyunan/Downloads/fengyunan/vuepress/node_modules/cache-loader/dist/cjs.js","mtime":1645695100529},{"path":"/Users/fengyunan/Downloads/fengyunan/vuepress/node_modules/babel-loader/lib/index.js","mtime":1645695100684},{"path":"/Users/fengyunan/Downloads/fengyunan/vuepress/node_modules/cache-loader/dist/cjs.js","mtime":1645695100529},{"path":"/Users/fengyunan/Downloads/fengyunan/vuepress/node_modules/vue-loader/lib/index.js","mtime":1645695100939}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgZmluZENvbnRhaW5lckluVm0gfSBmcm9tICcuL3V0aWwnOwpleHBvcnQgZGVmYXVsdCB7CiAgcHJvcHM6IFsnc3RpY2snLCAndGFnJ10sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG5lZWRGbG9hdDogZmFsc2UsCiAgICAgIHN0aWNrQm90dG9tOiAwCiAgICB9OwogIH0sCiAgd2F0Y2g6IHsKICAgIHN0aWNrOiBmdW5jdGlvbiBzdGljaygpIHsKICAgICAgdGhpcy51blN0aWNrKCk7CiAgICAgIHRoaXMuc3RpY2tIYW5kbGUoKTsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLnN0aWNrSGFuZGxlKCk7CiAgfSwKICBiZWZvcmVEZXN0cm95OiBmdW5jdGlvbiBiZWZvcmVEZXN0cm95KCkgewogICAgdGhpcy51blN0aWNrKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBzdGlja0hhbmRsZTogZnVuY3Rpb24gc3RpY2tIYW5kbGUoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBpZiAoIXRoaXMuc3RpY2spIHJldHVybjsKICAgICAgdmFyIHN0aWNrRWxlbWVudCA9IGZpbmRDb250YWluZXJJblZtKHRoaXMuc3RpY2ssIHRoaXMpOwogICAgICBpZiAoIXN0aWNrRWxlbWVudCkgcmV0dXJuOwoKICAgICAgdGhpcy5fc3RpY2tlclNjcm9sbCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgcmVjdCA9IF90aGlzLiRlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKCiAgICAgICAgdmFyIHNjcm9sbFRvcCA9IGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wICsgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcDsKICAgICAgICBfdGhpcy5uZWVkRmxvYXQgPSBkb2N1bWVudC5ib2R5Lm9mZnNldEhlaWdodCAtIHNjcm9sbFRvcCAtIHJlY3QuaGVpZ2h0IDwgc3RpY2tFbGVtZW50Lm9mZnNldEhlaWdodDsKICAgICAgICBfdGhpcy5zdGlja0JvdHRvbSA9IHN0aWNrRWxlbWVudC5vZmZzZXRIZWlnaHQ7CiAgICAgIH07CgogICAgICB0aGlzLl9zdGlja2VyU2Nyb2xsKCk7CgogICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5fc3RpY2tlclNjcm9sbCk7CiAgICB9LAogICAgdW5TdGljazogZnVuY3Rpb24gdW5TdGljaygpIHsKICAgICAgdGhpcy5uZWVkRmxvYXQgPSBmYWxzZTsKICAgICAgdGhpcy5zdGlja0JvdHRvbSA9IDA7CiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLl9zdGlja2VyU2Nyb2xsKTsKICAgIH0KICB9Cn07"},{"version":3,"mappings":";;;;;;;;;;;AAYA;AACA;AACAA,yBADA;AAGAC,MAHA,kBAGA;AACA;AACAC,sBADA;AAEAC;AAFA;AAIA,GARA;AAUAC;AACAC,SADA,mBACA;AACA;AACA;AACA;AAJA,GAVA;AAiBAC,SAjBA,qBAiBA;AACA;AACA,GAnBA;AAqBAC,eArBA,2BAqBA;AACA;AACA,GAvBA;AAyBAC;AACAC,eADA,yBACA;AAAA;;AACA;AACA;AACA;;AAEA;AACA;;AACA,wBACAC,4DADA;AAEA,0BACAA,uDACAC,yBAFA;AAGA;AACA,OARA;;AAUA;;AACAC;AACA,KAlBA;AAoBAC,WApBA,qBAoBA;AACA;AACA;AACAD;AACA;AAxBA;AAzBA","names":["props","data","needFloat","stickBottom","watch","stick","mounted","beforeDestroy","methods","stickHandle","document","stickElement","window","unStick"],"sourceRoot":"node_modules/@vuepress/theme-blog/components","sources":["Sticker.vue"],"sourcesContent":["<template>\n  <component\n    :is=\"tag || 'div'\"\n    class=\"sticker\"\n    :class=\"needFloat ? ['stick-float'] : undefined\"\n    :style=\"needFloat ? { bottom: `${stickBottom}px` } : undefined\"\n  >\n    <slot></slot>\n  </component>\n</template>\n\n<script>\nimport { findContainerInVm } from './util'\nexport default {\n  props: ['stick', 'tag'],\n\n  data() {\n    return {\n      needFloat: false,\n      stickBottom: 0,\n    }\n  },\n\n  watch: {\n    stick() {\n      this.unStick()\n      this.stickHandle()\n    },\n  },\n\n  mounted() {\n    this.stickHandle()\n  },\n\n  beforeDestroy() {\n    this.unStick()\n  },\n\n  methods: {\n    stickHandle() {\n      if (!this.stick) return\n      const stickElement = findContainerInVm(this.stick, this)\n      if (!stickElement) return\n\n      this._stickerScroll = () => {\n        const rect = this.$el.getBoundingClientRect()\n        const scrollTop =\n          document.body.scrollTop + document.documentElement.scrollTop\n        this.needFloat =\n          document.body.offsetHeight - scrollTop - rect.height <\n          stickElement.offsetHeight\n        this.stickBottom = stickElement.offsetHeight\n      }\n\n      this._stickerScroll()\n      window.addEventListener('scroll', this._stickerScroll)\n    },\n\n    unStick() {\n      this.needFloat = false\n      this.stickBottom = 0\n      window.removeEventListener('scroll', this._stickerScroll)\n    },\n  },\n}\n</script>\n\n<style lang=\"stylus\">\n.sticker\n  position fixed\n\n  &.stick-float\n    top auto\n    position absolute\n</style>\n"]}]}